<meta charset="utf-8">
<input value="text">
<script>
function createKeyboardEvent(name, key, altKey, ctrlKey, shiftKey, metaKey, bubbles) {
  var e = new Event(name)
  e.key = key
  e.keyCode = e.key.charCodeAt(0)
  e.which = e.keyCode
  e.altKey = altKey
  e.ctrlKey = ctrlKey
  e.shiftKey = shiftKey
  e.metaKey =  metaKey
  e.bubbles = bubbles
  return e
}

var name = 'keydown'
var key = 'a'









var event = createKeyboardEvent(name, key, false, false, false, false, true)

document.addEventListener(name, (e) => {console.log(e)})
var i=document.querySelector('input')
i.value='hello'
i.focus()
//document.dispatchEvent(new KeyboardEvent('keydown', {'key': 'a'}))
document.dispatchEvent(event)
</script>
