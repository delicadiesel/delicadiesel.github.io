<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display a map</title>
    <link rel='stylesheet' href='https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css'>
    <script src='https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.js'></script>
    <style>
        body { margin: 0; padding: 0; }
        #map { height: 500px; } /* 地圖容器高度 */
    </style>
</head>
<body>
    <div id="map"></div>
    <script>
        const map = new maplibregl.Map({
            container: 'map', // 地圖容器 ID
            center: [120.60052, 24.11133], // 初始位置 [lng, lat]
            zoom: 9 // 初始縮放
        });

        map.on('load', function() {
            map.addSource('contours', {
                type: 'vector',
                tiles: [`https://topo.iqiq.cc/{z}/{x}/{y}.pbf`],
                minzoom: 9,
                maxzoom: 14
            });

            map.addLayer({
                id: 'contour-lines',
                type: 'line',
                source: 'contours',
                'source-layer': 'contour',
                layout: {},
                paint: {
                    'line-color': '#ff0000', // 調整顏色
                    'line-opacity': 0.8, // 調整透明度
                    'line-width': 1 // 調整寬度
                }
            });

            map.addLayer({
                id: 'contour-labels',
                type: 'symbol',
                source: 'contours',
                'source-layer': 'contour',
                layout: {
                    'text-field': ['to-string', ['get', 'height']], // 顯示高度值
                    'text-font': ['Open Sans Regular'], // 調整字體
                    'text-size': 10, // 調整字體大小
                    'text-anchor': 'center', // 文字水平居中
                    'symbol-placement': 'line', // 將符號放置在線上
                    'symbol-spacing': 100 // 調整符號間距
                },
                paint: {
                    'text-color': '#000000' // 調整文字顏色
                }
            });
        }); // load
    </script>
</body>
</html>
