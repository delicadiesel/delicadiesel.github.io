<div>google Gmail測試</div>
<button onclick="list()">list</button>
<button onclick="read('18dc9c4ee6521bb9')">read</button>
<button onclick="del('18dc9c4ee6521bb9')">delete</button>
<button onclick="meta('1bBN94fwFBqC8kOUTiI3I9RocwbMFSr3W')">meta</button>
<script>
 var token='ya29.a0Ad52N3-F8VDA3QO7ZcOWAgkM_s83N91g5m_EuZMXNUugUcntsmUJcRs4H1INbBinLmUwyYIzU2qGvG42UrFsU02Dk86oRKMi_wHFR6nBMU3kseHAceytOwpdfhsxdFRNcec17kFTHui28o7QSCf4YPZxVRVwfOQyZBAaCgYKARUSARISFQHGX2Mibt71nqLYcDjNtp80bYg7Bw0170'
 function list(){
  var xhr=new XMLHttpRequest()
//xhr.open('GET',`https://gmail.googleapis.com/gmail/v1/users/me/messages?includeSpamTrash=true`,true)
  xhr.open('GET',`https://www.googleapis.com/drive/v2/files?q='me' in owners and trashed=false&fields=items(mimeType,parents,id,copyable,modifiedDate)&pageSize=1000`,true)
//xhr.open('GET',`https://www.googleapis.com/drive/v3/files?q='me' in owners and trashed=false&fields=files(mimeType,parents,id,modifiedTime)&pageSize=1000`,true)
  xhr.responseType='json'
  xhr.setRequestHeader('Authorization','Bearer '+token)
  xhr.send()
  xhr.onload=()=>{
   console.log(xhr.response)
  }
 }
 function read(id){
  var xhr=new XMLHttpRequest()
  xhr.open('GET',`https://gmail.googleapis.com/gmail/v1/users/me/messages/${id}`,true)
  xhr.responseType='json'
  xhr.setRequestHeader('Authorization','Bearer '+token)
  xhr.send()
  xhr.onload=()=>{
   console.log(xhr.response)
  }
 }
 function del(id){
  var xhr=new XMLHttpRequest()
  xhr.open('DELETE',`https://gmail.googleapis.com/gmail/v1/users/me/messages/${id}`,true)
  xhr.responseType='json'
  xhr.setRequestHeader('Authorization','Bearer '+token)
  xhr.send()
  xhr.onload=()=>{
   console.log(xhr.response)
  }
 }
 function meta(id){
  var xhr=new XMLHttpRequest()
  xhr.open('GET',`https://www.googleapis.com/drive/v2/files/${id}?fields=*`,true)
  xhr.responseType='json'
  xhr.setRequestHeader('Authorization','Bearer '+token)
  xhr.send()
  xhr.onload=()=>{
   console.log(xhr.response)
  }
 }

</script>